<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashed Lines with Scroll Threshold</title>
  <style>
  	@import url('https://fonts.googleapis.com/css2?family=Abel&display=swap');

    html, body {
      margin: 0;
      padding: 0;
    }
    canvas {
      position: absolute;
      top: 0;
      left: 0;
      pointer-events: none; /* Allow interaction with other content */
    }

    .content{
    	width: 100vw;
    	height: 100vh;
    }
    
    #title{
    }

    nav {
		position: fixed;
		top: 0px;
		left: 50%;
		transform: translateX(-50%);
		width: 99.9%;
		height: 70px;
		background: white;
		border: 1px dashed black;
		z-index: 999;
		display: flex;
		font-family: "Abel", sans-serif;
	}

	.middle{
		display: flex;
		flex-direction: column; /* Stack images and text vertically */
		justify-content: center;
		align-items: center;
		text-align: center;
		height: 100vh;
		width: 100%;
		padding: 20px;
		box-sizing: border-box;
		position: relative;
		overflow: hidden; 
	}

	.middletext{
		margin: 0;
		width: 70%;
		font-size: 20px;
	}

	.image-container {
	  position: absolute;
	  top: 0;
	  left: 0;
	  width: 100%;
	  height: 100%;
	  pointer-events: none; /* Ensure the images don't block text interaction */
	}

	.hover-image {
	  position: absolute;
	  width: 50px; /* Adjust size as needed */
	  height: 50px;
	  z-index: 100;
	  pointer-events: auto; /* Allow images to interact with hover events */
	  transition: transform 0.3s ease, opacity 0.3s ease; /* Smooth movement and fade-out */
	  rotate: 180deg;
	}

	p {
	  position: relative; /* Ensure text is behind the floating images */
	  z-index: 1;
	}

	.imgmiddle{
		display: flex;
		flex-direction: column; /* Stack images and text vertically */
		justify-content: center;
		align-items: center;
		text-align: center;
		height: 100vh;
		width: 100%;
	}

	.outline{
		margin: 0;
		padding: 0;
		display: flex;
		justify-content: center;
		align-items: center;
		height: 100vh;
	}

	#image-outline {
	  position: relative;
	  width: 80%;
	  height: 80%;
	}

	.lottery-image {
	  position: absolute;
	  width: 80px;
	  height: 80px;
	  transition: filter 0.5s ease-in-out, transform 0.5s ease-in-out;
	  filter: brightness(1);
	}

	/* Top row */
	.lottery-image.top {
	  top: 0;
	}

	.lottery-image.top:nth-child(1) { left: 0; }
	.lottery-image.top:nth-child(2) { left: 15%; }
	.lottery-image.top:nth-child(3) { left: 30%; }
	.lottery-image.top:nth-child(4) { left: 45%; }
	.lottery-image.top:nth-child(5) { left: 60%; }
	.lottery-image.top:nth-child(6) { left: 75%; }
	.lottery-image.top:nth-child(7) { left: 90%; }

	/* Bottom row */
	.lottery-image.bottom {
	  bottom: 0;
	}

	.lottery-image.bottom:nth-child(8) { left: 0; }
	.lottery-image.bottom:nth-child(9) { left: 15%; }
	.lottery-image.bottom:nth-child(10) { left: 30%; }
	.lottery-image.bottom:nth-child(11) { left: 45%; }
	.lottery-image.bottom:nth-child(12) { left: 60%; }
	.lottery-image.bottom:nth-child(13) { left: 75%; }
	.lottery-image.bottom:nth-child(14) { left: 90%; }

	/* Left column */
	.lottery-image.left {
	  left: 0;
	}

	.lottery-image.left:nth-child(15) { top: 15%; }
	.lottery-image.left:nth-child(16) { top: 35%; }
	.lottery-image.left:nth-child(17) { top: 55%; }
	.lottery-image.left:nth-child(18) { top: 75%; }

	/* Right column */
	.lottery-image.right {
	  right: 0;
	}

	.lottery-image.right:nth-child(19) { top: 15%; }
	.lottery-image.right:nth-child(20) { top: 35%; }
	.lottery-image.right:nth-child(21) { top: 55%; }
	.lottery-image.right:nth-child(22) { top: 75%; }

	/* Glowing effect */
	.lottery-image.glow {
	  filter: brightness(2);
	  transform: scale(1.2) rotate(360deg);
	}

	.conclusion{
		position: absolute;
	}


  </style>
</head>
<body>
  <canvas id="canvas"></canvas>

  <nav>
  	<a href="index.html"><img style="height: 90%;" src="tempimg/icon.png"/></a>
  	<h1>MY COMPUTER TOLD ME SO</h1>
  </nav>

  <div class="content" id="title">
  	<img style="width: 200px; position: absolute; bottom: 10px; left: 43vw;" src="tempimg/eyes/eyeballs.png"/>
  </div>

  <div class="middle">
  	<div class="image-container">
	    <!-- Add small images -->
	    <img src="tempimg/eyes/cover1.png" alt="Image 1" class="hover-image">
	    <img src="tempimg/eyes/cover1.png" alt="Image 2" class="hover-image">
	    <img src="tempimg/eyes/cover1.png" alt="Image 3" class="hover-image">
	    <img src="tempimg/eyes/cover2.png" alt="Image 1" class="hover-image">
	    <img src="tempimg/eyes/cover2.png" alt="Image 2" class="hover-image">
	    <img src="tempimg/eyes/cover2.png" alt="Image 3" class="hover-image">
	    <img src="tempimg/eyes/cover1.png" alt="Image 1" class="hover-image">
	    <img src="tempimg/eyes/cover1.png" alt="Image 2" class="hover-image">
	    <img src="tempimg/eyes/cover1.png" alt="Image 3" class="hover-image">
	    <img src="tempimg/eyes/cover2.png" alt="Image 1" class="hover-image">
	    <img src="tempimg/eyes/cover2.png" alt="Image 2" class="hover-image">
	    <img src="tempimg/eyes/cover2.png" alt="Image 3" class="hover-image">
	    <img src="tempimg/eyes/cover1.png" alt="Image 1" class="hover-image">
	    <img src="tempimg/eyes/cover1.png" alt="Image 2" class="hover-image">
	    <img src="tempimg/eyes/cover1.png" alt="Image 3" class="hover-image">
	    <img src="tempimg/eyes/cover2.png" alt="Image 1" class="hover-image">
	    <img src="tempimg/eyes/cover2.png" alt="Image 2" class="hover-image">
	    <img src="tempimg/eyes/cover2.png" alt="Image 3" class="hover-image">
	    <img src="tempimg/eyes/cover1.png" alt="Image 1" class="hover-image">
	    <img src="tempimg/eyes/cover1.png" alt="Image 2" class="hover-image">
	    <img src="tempimg/eyes/cover1.png" alt="Image 3" class="hover-image">
	    <img src="tempimg/eyes/cover2.png" alt="Image 1" class="hover-image">
	    <img src="tempimg/eyes/cover2.png" alt="Image 2" class="hover-image">
	    <img src="tempimg/eyes/cover2.png" alt="Image 3" class="hover-image">
	    <!-- Add more images as needed -->
	  </div>
  	<p class="middletext">It comes to no surprise to most that shame is an integral part within social media. Author ___ goes as far to say technology is a big shame machine. <br><br>  Some have stated that the shame felt on social media platforms is a type of dis integrative shame. <br><br>  And further, memory is selective. And digital attacks cause real, physical pain.</p>
  </div>


  <div class="imgmiddle">
  	<img style="width: 70%; margin: 0;" src="tempimg/eyes/convo.png"/>
  </div>

  <div class="imgmiddle">
  	<img style="width: 70%; margin: 0;" src="tempimg/eyes/game.png"/>
  	<button>PLAY!</button>
  </div>

  <div class="imgmiddle" style="margin-top: 200px;">
  	<img style="width: 70%; margin: 0;" src="tempimg/eyes/phone.png"/>
  </div>

<div class="outline">
	<div class="conclusion">CONCLUSION</div>
	<div id="image-outline">
	  <!-- Images for top -->
	  <img src="tempimg/eyes/cover2.png" class="lottery-image top" alt="Image">
	  <img src="tempimg/eyes/cover2.png" class="lottery-image top" alt="Image">
	  <img src="tempimg/eyes/cover2.png" class="lottery-image top" alt="Image">
	  <img src="tempimg/eyes/cover2.png" class="lottery-image top" alt="Image">
	  <img src="tempimg/eyes/cover2.png" class="lottery-image top" alt="Image">
	  <img src="tempimg/eyes/cover2.png" class="lottery-image top" alt="Image">
	  <img src="tempimg/eyes/cover2.png" class="lottery-image top" alt="Image">

	  <!-- Images for bottom -->
	  <img src="tempimg/eyes/cover2.png" class="lottery-image bottom" alt="Image">
	  <img src="tempimg/eyes/cover2.png" class="lottery-image bottom" alt="Image">
	  <img src="tempimg/eyes/cover2.png" class="lottery-image bottom" alt="Image">
	  <img src="tempimg/eyes/cover2.png" class="lottery-image bottom" alt="Image">
	  <img src="tempimg/eyes/cover2.png" class="lottery-image bottom" alt="Image">
	  <img src="tempimg/eyes/cover2.png" class="lottery-image bottom" alt="Image">
	  <img src="tempimg/eyes/cover2.png" class="lottery-image bottom" alt="Image">

	  <!-- Images for left -->
	  <img src="tempimg/eyes/cover2.png" class="lottery-image left" alt="Image">
	  <img src="tempimg/eyes/cover2.png" class="lottery-image left" alt="Image">
	  <img src="tempimg/eyes/cover2.png" class="lottery-image left" alt="Image">
	  <img src="tempimg/eyes/cover2.png" class="lottery-image left" alt="Image">

	  <!-- Images for right -->
	  <img src="tempimg/eyes/cover2.png" class="lottery-image right" alt="Image">
	  <img src="tempimg/eyes/cover2.png" class="lottery-image right" alt="Image">
	  <img src="tempimg/eyes/cover2.png" class="lottery-image right" alt="Image">
	  <img src="tempimg/eyes/cover2.png" class="lottery-image right" alt="Image">
	</div>
</div>


  <script>
  	const canvas = document.getElementById('canvas');
	const ctx = canvas.getContext('2d');
	const scrollThreshold = 150; // Threshold in pixels
	let drawEnabled = true;
	const circleRadius = 100; // Radius for the 100px circle
	let mouseX = 0;
	let mouseY = 0;

	// Adjust canvas size
	function resizeCanvas() {
	  canvas.width = window.innerWidth;
	  canvas.height = window.innerHeight;
	}

	// Initial resize
	resizeCanvas();

	// Handle resizing
	window.addEventListener('resize', () => {
	  resizeCanvas();
	  drawBackground(); // Redraw the background when resizing
	});

	const backgroundImage = new Image();
	backgroundImage.src = 'tempimg/eyes/background.png';

	function drawBackground() {
	  if (backgroundImage.complete) {
	    ctx.drawImage(backgroundImage, 0, 0, canvas.width+10, canvas.height);
	  } else {
	    backgroundImage.onload = () => {
	      ctx.drawImage(backgroundImage, 0, 0, canvas.width+10, canvas.height);
	    };
	  }
	}

	let animationStartX = canvas.width; // Start offscreen to the right
	const animationEndX = (canvas.width - 450) / 2 + 325; // Centered horizontally in the square
	const animationSpeed = 5; // Adjust speed to make it smooth
	let animationInProgress = true; // Track if the animation is ongoing

	function draw() {
	  // Redraw the background every time
	  drawBackground();

	  if (drawEnabled) {
	    // Draw dashed lines
	    const bottomY = window.innerHeight - 50; // Fixed bottom based on viewport
	    const point1X = canvas.width / 2 - 50; // Left point at the bottom-middle
	    const point2X = canvas.width / 2 + 50; // Right point at the bottom-middle

	    ctx.setLineDash([5, 5]);
	    ctx.beginPath();
	    ctx.moveTo(point1X, bottomY);
	    ctx.lineTo(mouseX, mouseY);
	    ctx.strokeStyle = 'black';
	    ctx.lineWidth = 1;
	    ctx.stroke();

	    ctx.beginPath();
	    ctx.moveTo(point2X, bottomY);
	    ctx.lineTo(mouseX, mouseY);
	    ctx.strokeStyle = 'black';
	    ctx.stroke();
	  }

	  // Draw the blend circle
	  ctx.globalCompositeOperation = 'overlay';
	  ctx.beginPath();
	  ctx.arc(mouseX, mouseY, circleRadius, 0, Math.PI * 2);
	  ctx.fillStyle = 'rgba(255, 255, 255, 0.5)'; // Semi-transparent white
	  ctx.fill();
	  ctx.lineWidth = 1;
	  ctx.strokeStyle = 'black';
	  ctx.stroke();

	  // Restrict drawing to a 400px square
	  ctx.globalCompositeOperation = 'source-over';
	  const squareX = (canvas.width - 400) / 2; // Center the square horizontally
	  const squareY = (canvas.height - 400) / 2; // Center the square vertically

	  ctx.save();
	  ctx.beginPath();
	  ctx.rect(squareX, squareY, 700, 500);
	  ctx.clip();

	  // Draw word-wrapped text inside the square
	  const text = '<Enticing Blurb> Social media uses shame as an attention grabber to increase profits, de-incentivizing platforms to properly and genuinely combat hostile behavior. Social media platforms enable the increase of shame within a victim, while decreasing the shame of the perpetrator. The very nature of data collecting, mining and sharing sets the stage for shame to occur, creating dissonance and possible insecurity within individual users concerned about public image.';
	  const maxWidth = 380;
	  const lineHeight = 30;
	  let startX = animationStartX; // Use the animated position
	  let startY = squareY + 50;

	  ctx.font = '20px Arial';
	  ctx.fillStyle = 'white';
	  ctx.textAlign = 'left';

	  const words = text.split(' ');
	  let line = '';

	  for (let i = 0; i < words.length; i++) {
	    const testLine = line + words[i] + ' ';
	    const metrics = ctx.measureText(testLine);
	    const testWidth = metrics.width;

	    if (testWidth > maxWidth && i > 0) {
	      ctx.fillText(line.trim(), startX, startY);
	      line = words[i] + ' ';
	      startY += lineHeight;
	    } else {
	      line = testLine;
	    }
	  }

	  ctx.fillText(line.trim(), startX, startY);
	  ctx.restore();

	  // Handle animation
	  if (animationInProgress) {
	    if (animationStartX > animationEndX) {
	      animationStartX -= animationSpeed; // Move text closer to the center
	      requestAnimationFrame(draw); // Continue the animation
	    } else {
	      animationStartX = animationEndX; // Stop exactly at the end
	      animationInProgress = false;
	    }
	  }
	}

	// Trigger initial draw
	draw();


	// Track mouse movements
	window.addEventListener('mousemove', (event) => {
	  mouseX = event.clientX;
	  mouseY = event.clientY + window.scrollY; // Account for scroll offset
	  draw(); // Update the drawing on mouse move
	});

	drawBackground(); // Draw the initial background

	// Toggle drawing based on scroll position
	window.addEventListener('scroll', () => {
	  const scrollTop = window.scrollY;
	  if (scrollTop > scrollThreshold) {
	    drawEnabled = false;
	  } else {
	    drawEnabled = true;
	  }
	  draw(); // Redraw on scroll to update the state
	});


	//	IMAGES MOVING

	// Select all images
	const hoverImages = document.querySelectorAll('.hover-image');

	// Randomly position the images within the container
	function randomizeImagePositions() {
	  const centerX = window.innerWidth / 2;
	  const centerY = window.innerHeight / 2;
	  const boxWidth = 400; // Define the width of the center box
	  const boxHeight = 300; // Define the height of the center box

	  hoverImages.forEach((img) => {
	    // Randomly position the images within the center box
	    const randomX = centerX - boxWidth / 2 + Math.random() * boxWidth;
	    const randomY = centerY - boxHeight / 2 + Math.random() * boxHeight;
	    img.style.left = `${randomX}px`;
	    img.style.top = `${randomY}px`;
	  });
	}

	// Call the function to position images initially
	randomizeImagePositions();

	// Add hover effect to move and fade images
	hoverImages.forEach((img) => {
	  img.addEventListener('mouseenter', () => {
	    img.style.transform = `translate(${Math.random() * 200 - 100}px, ${Math.random() * 200 - 100}px)`;
	    setTimeout(() => {
	      img.style.opacity = '1'; // Restore visibility after some time
	    }, 500); // Adjust timing as needed
	  });
	});


	//GLOW

	document.addEventListener('DOMContentLoaded', () => {
	  const images = document.querySelectorAll('.lottery-image');
	  let currentIndex = 0;

	  function glowNextImage() {
	    // Reset all images to normal state
	    images.forEach((img) => img.classList.remove('glow'));

	    // Highlight the current image
	    images[currentIndex].classList.add('glow');

	    // Move to the next image
	    currentIndex = (currentIndex + 1) % images.length;

	    // Repeat the glow effect
	    setTimeout(glowNextImage, 500); // Change delay for speed
	  }

	  glowNextImage(); // Start the glowing sequence
	});



  </script>
</body>
</html>

